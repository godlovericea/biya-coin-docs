# 02 - æ¶æ„è®¾è®¡

> **é€‚åˆäººç¾¤**: å¼€å‘è€…ã€æ¶æ„å¸ˆ  
> **é˜…è¯»æ—¶é—´**: 20 åˆ†é’Ÿ

---

## ğŸ“– ç›®å½•

1. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [æ¨¡å—åˆ’åˆ†](#æ¨¡å—åˆ’åˆ†)
4. [ç›®å½•ç»“æ„](#ç›®å½•ç»“æ„)
5. [æ•°æ®æµå‘](#æ•°æ®æµå‘)
6. [å…³é”®è®¾è®¡](#å…³é”®è®¾è®¡)

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                       â”‚
â”‚                      (è¡¨ç°å±‚)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Bridge     â”‚  â”‚ BridgeFromV2 â”‚  â”‚    Common    â”‚     â”‚
â”‚  â”‚   ä¸»ç»„ä»¶     â”‚  â”‚   æ¡¥æ¥è¡¨å•   â”‚  â”‚   é€šç”¨ç»„ä»¶   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Business Logic Layer                     â”‚
â”‚                      (ä¸šåŠ¡é€»è¾‘å±‚)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Wallet    â”‚  â”‚   Account    â”‚  â”‚    Token     â”‚     â”‚
â”‚  â”‚   Provider   â”‚  â”‚   Provider   â”‚  â”‚   Provider   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Peggy     â”‚  â”‚    Axelar    â”‚  â”‚    Event     â”‚     â”‚
â”‚  â”‚   Provider   â”‚  â”‚   Provider   â”‚  â”‚   Provider   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Access Layer                        â”‚
â”‚                      (æ•°æ®è®¿é—®å±‚)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Contracts  â”‚  â”‚   Services   â”‚  â”‚    Wallet    â”‚     â”‚
â”‚  â”‚   æ™ºèƒ½åˆçº¦   â”‚  â”‚   ä¸šåŠ¡æœåŠ¡   â”‚  â”‚   é’±åŒ…ç­–ç•¥   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Infrastructure Layer                     â”‚
â”‚                      (åŸºç¡€è®¾æ–½å±‚)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Ethereum    â”‚  â”‚  Injective   â”‚  â”‚   BNB Chain  â”‚     â”‚
â”‚  â”‚    RPC       â”‚  â”‚    RPC       â”‚  â”‚     RPC      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
```json
{
  "framework": "Next.js 15.5.4",
  "runtime": "React 19.1.0",
  "language": "TypeScript 5",
  "styling": "Tailwind CSS 4.0"
}
```

### åŒºå—é“¾äº¤äº’
```json
{
  "injective": "@injectivelabs/sdk-ts@1.16.7",
  "ethereum": {
    "library": "ethers@6.15.0",
    "hooks": "wagmi@2.19.1",
    "client": "viem@2.38.5"
  },
  "wallet": "@injectivelabs/wallet-strategy@1.16.7"
}
```

### è·¨é“¾åè®®
```json
{
  "peggy": "å†…ç½®åœ¨ Injective SDK",
  "axelar": "@0xsquid/sdk@2.10.2"
}
```

### çŠ¶æ€ç®¡ç†
```json
{
  "global": "React Context API",
  "form": "react-hook-form@7.65.0",
  "query": "@tanstack/react-query@5.90.5"
}
```

---

## ğŸ“¦ æ¨¡å—åˆ’åˆ†

### 1. **è¡¨ç°å±‚** (Presentation)

#### ğŸ¨ ç»„ä»¶æ¨¡å— (`components/bridge/`)

```typescript
components/bridge/
â”œâ”€â”€ Bridge.tsx              # ä¸»å®¹å™¨ç»„ä»¶
â”‚   â””â”€â”€ èŒè´£ï¼šçŠ¶æ€ç®¡ç†ã€æ•°æ®è·å–
â”‚
â”œâ”€â”€ BridgeFromV2.tsx        # æ¡¥æ¥è¡¨å•
â”‚   â””â”€â”€ èŒè´£ï¼šUI äº¤äº’ã€è¡¨å•éªŒè¯ã€äº¤æ˜“æäº¤
â”‚
â””â”€â”€ common/                 # é€šç”¨ç»„ä»¶
    â”œâ”€â”€ Spinner.tsx         # åŠ è½½åŠ¨ç”»
    â”œâ”€â”€ CurrencyInput.tsx   # ä»£å¸è¾“å…¥æ¡†
    â””â”€â”€ Button.tsx          # æŒ‰é’®ç»„ä»¶
```

**è®¾è®¡åŸåˆ™**ï¼š
- ç»„ä»¶å•ä¸€èŒè´£
- å±•ç¤ºä¸é€»è¾‘åˆ†ç¦»
- å¯å¤ç”¨æ€§ä¼˜å…ˆ

---

### 2. **ä¸šåŠ¡é€»è¾‘å±‚** (Business Logic)

#### ğŸ”„ Context æ¨¡å— (`context/bridge/`)

```typescript
context/bridge/
â”œâ”€â”€ BridgeProviders.tsx      # ç»Ÿä¸€çš„ Provider å®¹å™¨
â”‚   â””â”€â”€ èšåˆæ‰€æœ‰ Context
â”‚
â”œâ”€â”€ WalletProvider.tsx       # é’±åŒ…è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ è¿æ¥/æ–­å¼€é’±åŒ…
â”‚   â”œâ”€â”€ ç®¡ç†é’±åŒ…çŠ¶æ€
â”‚   â””â”€â”€ æä¾›é’±åŒ…åœ°å€
â”‚
â”œâ”€â”€ AccountProvider.tsx      # è´¦æˆ·ä½™é¢ç®¡ç†
â”‚   â”œâ”€â”€ æŸ¥è¯¢ä½™é¢
â”‚   â”œâ”€â”€ æŸ¥è¯¢æˆæƒé¢åº¦
â”‚   â””â”€â”€ ç¼“å­˜ä½™é¢æ•°æ®
â”‚
â”œâ”€â”€ TokenProvider.tsx        # ä»£å¸ä»·æ ¼ç®¡ç†
â”‚   â”œâ”€â”€ è·å–ä»£å¸ä»·æ ¼
â”‚   â”œâ”€â”€ è®¡ç®— USD ä»·å€¼
â”‚   â””â”€â”€ ä»·æ ¼ç¼“å­˜
â”‚
â”œâ”€â”€ PeggyProvider.tsx        # Peggy æ¡¥æ¥é€»è¾‘
â”‚   â”œâ”€â”€ ETH â†’ INJ è½¬è´¦
â”‚   â”œâ”€â”€ INJ â†’ ETH è½¬è´¦
â”‚   â””â”€â”€ äº¤æ˜“çŠ¶æ€è·Ÿè¸ª
â”‚
â”œâ”€â”€ AxelarProvider.tsx       # Axelar æ¡¥æ¥é€»è¾‘
â”‚   â”œâ”€â”€ å¤šé“¾ â†’ INJ è½¬è´¦
â”‚   â”œâ”€â”€ INJ â†’ å¤šé“¾ è½¬è´¦
â”‚   â””â”€â”€ è·¯ç”±è®¡ç®—
â”‚
â””â”€â”€ EventProvider.tsx        # äº‹ä»¶å¤„ç†
    â”œâ”€â”€ æˆåŠŸå›è°ƒ
    â”œâ”€â”€ å¤±è´¥å›è°ƒ
    â””â”€â”€ åˆå§‹åŒ–å›è°ƒ
```

**èŒè´£åˆ’åˆ†**ï¼š

| Provider | æ ¸å¿ƒèŒè´£ | ä¾èµ– |
|----------|---------|------|
| WalletProvider | é’±åŒ…è¿æ¥ã€åœ°å€ç®¡ç† | wallet-strategy |
| AccountProvider | ä½™é¢æŸ¥è¯¢ã€æˆæƒç®¡ç† | WalletProvider |
| TokenProvider | ä»·æ ¼æŸ¥è¯¢ã€USD è½¬æ¢ | - |
| PeggyProvider | Peggy æ¡¥æ¥ | WalletProvider, AccountProvider |
| AxelarProvider | Axelar æ¡¥æ¥ | WalletProvider, AccountProvider |
| EventProvider | äº‹ä»¶å›è°ƒ | - |

---

### 3. **æ•°æ®è®¿é—®å±‚** (Data Access)

#### ğŸ“œ æ™ºèƒ½åˆçº¦æ¨¡å— (`lib/bridge/contracts/`)

```typescript
contracts/
â”œâ”€â”€ BaseContract.ts          # åˆçº¦åŸºç±»
â”‚   â”œâ”€â”€ ABI è§£æ
â”‚   â”œâ”€â”€ åˆçº¦å®ä¾‹åŒ–
â”‚   â””â”€â”€ é€šç”¨æ–¹æ³•
â”‚
â”œâ”€â”€ Erc20Contract.ts         # ERC20 ä»£å¸åˆçº¦
â”‚   â”œâ”€â”€ balanceOf()         # æŸ¥è¯¢ä½™é¢
â”‚   â”œâ”€â”€ allowance()         # æŸ¥è¯¢æˆæƒé¢åº¦
â”‚   â”œâ”€â”€ approve()           # æˆæƒ
â”‚   â””â”€â”€ transfer()          # è½¬è´¦
â”‚
â”œâ”€â”€ Peggy.ts                 # Peggy æ¡¥æ¥åˆçº¦
â”‚   â”œâ”€â”€ sendToInjective()   # è½¬åˆ° Injective
â”‚   â””â”€â”€ eventsç›‘å¬
â”‚
â””â”€â”€ abi/                     # åˆçº¦ ABI
    â”œâ”€â”€ injective.ts        # Injective ç›¸å…³ ABI
    â””â”€â”€ peggy.ts            # Peggy åˆçº¦ ABI
```

#### ğŸ”§ æœåŠ¡æ¨¡å— (`lib/bridge/services/`)

```typescript
services/
â”œâ”€â”€ web3Client.ts            # Web3 å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ å‡†å¤‡äº¤æ˜“
â”‚   â”œâ”€â”€ å¹¿æ’­äº¤æ˜“
â”‚   â””â”€â”€ æŸ¥è¯¢äº¤æ˜“çŠ¶æ€
â”‚
â”œâ”€â”€ web3composer.ts          # äº¤æ˜“ç»„è£…å™¨
â”‚   â”œâ”€â”€ Peggy å­˜æ¬¾äº¤æ˜“
â”‚   â”œâ”€â”€ Peggy æç°äº¤æ˜“
â”‚   â””â”€â”€ è®¡ç®— Gas
â”‚
â”œâ”€â”€ estimator.ts             # Gas ä¼°ç®—
â”‚   â”œâ”€â”€ ä¼°ç®— Gas Limit
â”‚   â”œâ”€â”€ è·å– Gas Price
â”‚   â””â”€â”€ è®¡ç®—æ€»è´¹ç”¨
â”‚
â”œâ”€â”€ ethGasPrice.ts           # ä»¥å¤ªåŠ Gas ä»·æ ¼
â”‚   â”œâ”€â”€ å®æ—¶ Gas ä»·æ ¼
â”‚   â””â”€â”€ å†å²ä»·æ ¼
â”‚
â””â”€â”€ service.ts               # ä¸šåŠ¡æœåŠ¡
    â”œâ”€â”€ ä»£å¸ä»·æ ¼æœåŠ¡
    â””â”€â”€ å¸‚åœºæ•°æ®æœåŠ¡
```

#### ğŸ‘› é’±åŒ…æ¨¡å— (`lib/bridge/wallet/`)

```typescript
wallet/
â”œâ”€â”€ walletStrategy.ts        # é’±åŒ…ç­–ç•¥
â”‚   â”œâ”€â”€ ç»Ÿä¸€é’±åŒ…æ¥å£
â”‚   â”œâ”€â”€ å¤šé’±åŒ…æ”¯æŒ
â”‚   â””â”€â”€ åœ°å€è·å–
â”‚
â”œâ”€â”€ cosmos.ts                # Cosmos é’±åŒ…
â”‚   â”œâ”€â”€ Keplr é›†æˆ
â”‚   â”œâ”€â”€ Leap é›†æˆ
â”‚   â””â”€â”€ ç­¾åäº¤æ˜“
â”‚
â”œâ”€â”€ metamask.ts              # MetaMask é’±åŒ…
â”‚   â”œâ”€â”€ è¿æ¥é’±åŒ…
â”‚   â”œâ”€â”€ åˆ‡æ¢ç½‘ç»œ
â”‚   â””â”€â”€ ç­¾åäº¤æ˜“
â”‚
â””â”€â”€ walletService.ts         # é’±åŒ…æœåŠ¡
    â”œâ”€â”€ å¹¿æ’­ Cosmos äº¤æ˜“
    â”œâ”€â”€ å¹¿æ’­ EVM äº¤æ˜“
    â””â”€â”€ äº¤æ˜“è·Ÿè¸ª
```

---

### 4. **å·¥å…·å±‚** (Utilities)

#### ğŸ› ï¸ å·¥å…·æ¨¡å— (`lib/bridge/`)

```typescript
lib/bridge/
â”œâ”€â”€ constants/               # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ index.ts            # é€šç”¨å¸¸é‡
â”‚   â””â”€â”€ setup.ts            # ç¯å¢ƒé…ç½®
â”‚
â”œâ”€â”€ data/                    # é™æ€æ•°æ®
â”‚   â”œâ”€â”€ tokens.ts           # ä»£å¸é…ç½®
â”‚   â””â”€â”€ web3.ts             # Web3 é…ç½®
â”‚
â”œâ”€â”€ types/                   # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ enums.ts            # æšä¸¾ç±»å‹
â”‚   â””â”€â”€ index.ts            # é€šç”¨ç±»å‹
â”‚
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ bridge-utils.ts     # æ¡¥æ¥å·¥å…·
â”‚   â””â”€â”€ index.ts            # é€šç”¨å·¥å…·
â”‚
â””â”€â”€ config/                  # é…ç½®æ–‡ä»¶
    â””â”€â”€ wagmi.ts            # Wagmi é…ç½®
```

---

## ğŸ“ ç›®å½•ç»“æ„

### å®Œæ•´ç›®å½•æ ‘

```
biya-helix-app/
â”‚
â”œâ”€â”€ app/[locale]/bridge/        # ğŸ“„ é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ page.tsx               # æœåŠ¡ç«¯é¡µé¢
â”‚   â””â”€â”€ BridgePage.tsx         # å®¢æˆ·ç«¯ç»„ä»¶
â”‚
â”œâ”€â”€ components/bridge/          # ğŸ¨ UI ç»„ä»¶
â”‚   â”œâ”€â”€ Bridge.tsx             # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ BridgeFromV2.tsx       # V2 è¡¨å•
â”‚   â”œâ”€â”€ BridgeForm.tsx         # V1 è¡¨å•ï¼ˆå·²å¼ƒç”¨ï¼‰
â”‚   â”œâ”€â”€ assets/                # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ common/                # é€šç”¨ç»„ä»¶
â”‚       â”œâ”€â”€ Spinner.tsx
â”‚       â”œâ”€â”€ CurrencyInput.tsx
â”‚       â””â”€â”€ Button.tsx
â”‚
â”œâ”€â”€ context/bridge/             # ğŸ”„ çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ BridgeProviders.tsx    # Provider å®¹å™¨
â”‚   â”œâ”€â”€ WalletProvider.tsx
â”‚   â”œâ”€â”€ AccountProvider.tsx
â”‚   â”œâ”€â”€ TokenProvider.tsx
â”‚   â”œâ”€â”€ PeggyProvider.tsx
â”‚   â”œâ”€â”€ AxelarProvider.tsx
â”‚   â””â”€â”€ EventProvider.tsx
â”‚
â”œâ”€â”€ lib/bridge/                 # ğŸ“š æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ index.ts               # å¯¼å‡º web3Client, web3Composer
â”‚   â”‚
â”‚   â”œâ”€â”€ contracts/             # ğŸ“œ æ™ºèƒ½åˆçº¦
â”‚   â”‚   â”œâ”€â”€ BaseContract.ts
â”‚   â”‚   â”œâ”€â”€ Erc20Contract.ts
â”‚   â”‚   â”œâ”€â”€ Peggy.ts
â”‚   â”‚   â”œâ”€â”€ abi/
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/              # ğŸ”§ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ web3Client.ts
â”‚   â”‚   â”œâ”€â”€ web3composer.ts
â”‚   â”‚   â”œâ”€â”€ estimator.ts
â”‚   â”‚   â”œâ”€â”€ ethGasPrice.ts
â”‚   â”‚   â””â”€â”€ service.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ wallet/                # ğŸ‘› é’±åŒ…ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ walletStrategy.ts
â”‚   â”‚   â”œâ”€â”€ cosmos.ts
â”‚   â”‚   â”œâ”€â”€ metamask.ts
â”‚   â”‚   â””â”€â”€ walletService.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                 # ğŸª React Hooks
â”‚   â”‚   â””â”€â”€ useWagmiContracts.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                  # ğŸ“Š é™æ€æ•°æ®
â”‚   â”‚   â”œâ”€â”€ tokens.ts
â”‚   â”‚   â””â”€â”€ web3.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/             # ğŸ”¢ å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ setup.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                 # ğŸ“ ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ enums.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                 # ğŸ› ï¸ å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ bridge-utils.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ config/                # âš™ï¸ é…ç½®
â”‚       â””â”€â”€ wagmi.ts
â”‚
â”œâ”€â”€ public/images/chains/       # ğŸ–¼ï¸ é“¾å›¾æ ‡
â”‚   â”œâ”€â”€ ethereum.svg
â”‚   â”œâ”€â”€ bnb.svg
â”‚   â””â”€â”€ injective.svg
â”‚
â”œâ”€â”€ vendor/injective/           # ğŸ“¦ æœ¬åœ°åŒ–ä¾èµ–
â”‚   â”œâ”€â”€ sdk-ts/
â”‚   â”œâ”€â”€ wallet-strategy/
â”‚   â”œâ”€â”€ core-proto-ts/
â”‚   â””â”€â”€ ... (18ä¸ªåŒ…)
â”‚
â””â”€â”€ docs/bridge/                # ğŸ“– æ–‡æ¡£
    â”œâ”€â”€ 00-README.md
    â”œâ”€â”€ 01-ä¸šåŠ¡æ¦‚è¿°.md
    â””â”€â”€ ...
```

---

## ğŸ”„ æ•°æ®æµå‘

### ç”¨æˆ·æ“ä½œæµç¨‹

```
ç”¨æˆ·ç‚¹å‡»"Bridge"æŒ‰é’®
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. BridgeFromV2 ç»„ä»¶          â”‚
â”‚     - éªŒè¯è¡¨å•                  â”‚
â”‚     - è°ƒç”¨ Provider æ–¹æ³•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. PeggyProvider / AxelarProvider â”‚
â”‚     - æ£€æŸ¥ä½™é¢å’Œæˆæƒ            â”‚
â”‚     - æ„å»ºäº¤æ˜“å‚æ•°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. web3Composer               â”‚
â”‚     - ç»„è£…äº¤æ˜“æ•°æ®              â”‚
â”‚     - ä¼°ç®— Gas                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. walletService              â”‚
â”‚     - è¯·æ±‚ç”¨æˆ·ç­¾å              â”‚
â”‚     - å¹¿æ’­äº¤æ˜“                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. åŒºå—é“¾ç½‘ç»œ                  â”‚
â”‚     - éªŒè¯äº¤æ˜“                  â”‚
â”‚     - æ‰§è¡Œåˆçº¦                  â”‚
â”‚     - ç¡®è®¤äº¤æ˜“                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. EventProvider              â”‚
â”‚     - è§¦å‘æˆåŠŸå›è°ƒ              â”‚
â”‚     - æ›´æ–° UI çŠ¶æ€              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Provider ä¾èµ–å…³ç³»

```
BridgeProviders (æ ¹å®¹å™¨)
    â”œâ”€â”€ WagmiProvider (Wagmi é…ç½®)
    â”‚   â””â”€â”€ QueryClientProvider (React Query)
    â”‚       â””â”€â”€ WalletProvider (é’±åŒ…ç®¡ç†)
    â”‚           â”œâ”€â”€ AccountProvider (ä½™é¢ç®¡ç†)
    â”‚           â”‚   â”œâ”€â”€ TokenProvider (ä»·æ ¼)
    â”‚           â”‚   â”‚   â”œâ”€â”€ PeggyProvider (Peggy æ¡¥)
    â”‚           â”‚   â”‚   â”‚   â””â”€â”€ AxelarProvider (Axelar æ¡¥)
    â”‚           â”‚   â”‚   â”‚       â””â”€â”€ EventProvider (äº‹ä»¶)
```

**ä¾èµ–è¯´æ˜**ï¼š
- å†…å±‚ Provider å¯ä»¥è®¿é—®å¤–å±‚ Context
- å¤–å±‚ Provider ä¸èƒ½è®¿é—®å†…å±‚ Context
- ä¿è¯å•å‘æ•°æ®æµ

---

## ğŸ¯ å…³é”®è®¾è®¡

### 1. **èŒè´£åˆ†ç¦»**

```typescript
// âŒ ä¸å¥½çš„è®¾è®¡ï¼šæ‰€æœ‰é€»è¾‘åœ¨ç»„ä»¶é‡Œ
function Bridge() {
  // é’±åŒ…è¿æ¥
  // ä½™é¢æŸ¥è¯¢
  // äº¤æ˜“æ„å»º
  // UI æ¸²æŸ“
  // ... å¤ªå¤šèŒè´£
}

// âœ… å¥½çš„è®¾è®¡ï¼šèŒè´£åˆ†ç¦»
function Bridge() {
  const { address } = useWallet()          // é’±åŒ…
  const { balance } = useAccount()         // ä½™é¢
  const { bridge } = usePeggy()            // äº¤æ˜“
  return <BridgeUI />                      // UI
}
```

### 2. **çŠ¶æ€æå‡**

```typescript
// çŠ¶æ€ç»Ÿä¸€åœ¨ Provider ä¸­ç®¡ç†
// ç»„ä»¶åªè´Ÿè´£æ¶ˆè´¹å’Œå±•ç¤º
export function WalletProvider({ children }) {
  const [address, setAddress] = useState()
  const [wallet, setWallet] = useState()
  
  return (
    <WalletContext.Provider value={{ address, wallet }}>
      {children}
    </WalletContext.Provider>
  )
}
```

### 3. **é”™è¯¯å¤„ç†**

```typescript
// ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
try {
  await peggyEthDeposit({ amount, token })
  onSuccess?.() // æˆåŠŸå›è°ƒ
} catch (error) {
  console.error('Bridge failed:', error)
  onError?.(error) // é”™è¯¯å›è°ƒ
}
```

### 4. **ç±»å‹å®‰å…¨**

```typescript
// ä½¿ç”¨ TypeScript ç¡®ä¿ç±»å‹å®‰å…¨
interface BridgeParams {
  amount: string
  token: TokenStatic
  fromNetwork: Network
  toNetwork: Network
}

function bridge(params: BridgeParams): Promise<string>
```

---

## ğŸ“– ä¸‹ä¸€æ­¥

- ğŸ‘‰ [æ ¸å¿ƒæ¦‚å¿µ](./03-æ ¸å¿ƒæ¦‚å¿µ.md) - ç†è§£å…³é”®æœ¯è¯­
- ğŸ‘‰ [æ•°æ®æµç¨‹](./04-æ•°æ®æµç¨‹.md) - è¯¦ç»†çš„æ•°æ®æµå‘
- ğŸ‘‰ [ç»„ä»¶è¯´æ˜](./05-ç»„ä»¶è¯´æ˜.md) - æ¯ä¸ªæ¨¡å—çš„è¯¦ç»†è¯´æ˜

---

*æœ€åæ›´æ–°: 2025-10-30*

