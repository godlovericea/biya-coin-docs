# ğŸš€ Git ç­–ç•¥å¿«é€Ÿå†³ç­–æŒ‡å—

> **1 åˆ†é’Ÿå†³ç­–** - é€‰æ‹©æœ€é€‚åˆä½ çš„ Git å’Œéƒ¨ç½²æ–¹æ¡ˆ

---

## âš¡ å¿«é€Ÿå›ç­”æ ¸å¿ƒé—®é¢˜

### Q1: å­é¡¹ç›®èƒ½ç”¨ä¸åŒçš„ git åœ°å€å—ï¼Ÿ
**A**: âœ… **èƒ½ï¼** æœ‰ 3 ç§æ–¹æ¡ˆå¯é€‰

### Q2: èƒ½å•ç‹¬éƒ¨ç½²å—ï¼Ÿ
**A**: âœ… **èƒ½ï¼** æ— è®ºç”¨å“ªç§ Git ç­–ç•¥

### Q3: æˆ‘è¯¥é€‰å“ªä¸ªï¼Ÿ
**A**: ğŸ‘‡ çœ‹ä¸‹é¢çš„å†³ç­–æ ‘

---

## ğŸ¯ 30ç§’å†³ç­–æ ‘

```
é—®ï¼šä½ çš„å›¢é˜Ÿåœ¨ä¸€èµ·åä½œå—ï¼Ÿ
â”‚
â”œâ”€ YESï¼ˆåŒä¸€å›¢é˜Ÿï¼‰
â”‚  â”‚
â”‚  â””â”€ é—®ï¼šéœ€è¦é¢‘ç¹å…±äº«ä»£ç å—ï¼Ÿ
â”‚     â”‚
â”‚     â”œâ”€ YES â†’ ğŸ¯ Monorepoï¼ˆæ¨èï¼‰
â”‚     â””â”€ NO  â†’ Multi-repo
â”‚
â””â”€ NOï¼ˆä¸åŒå›¢é˜Ÿ/å¤–åŒ…ï¼‰
   â”‚
   â””â”€ é—®ï¼šæœ‰ä¸¥æ ¼æƒé™è¦æ±‚å—ï¼Ÿ
      â”‚
      â”œâ”€ YES â†’ ğŸ¯ Multi-repo
      â””â”€ NO  â†’ Hybrid (Submodules)
```

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”è¡¨

| éœ€æ±‚ | Monorepo | Multi-repo | Hybrid |
|------|----------|-----------|--------|
| ä»£ç å…±äº« | â­â­â­ | â­ | â­â­ |
| ç‹¬ç«‹éƒ¨ç½² | âœ… | âœ… | âœ… |
| æƒé™æ§åˆ¶ | â­ | â­â­â­ | â­â­ |
| ç®¡ç†ç®€å• | â­â­â­ | â­â­ | â­ |
| åŒä¸€å›¢é˜Ÿ | âœ… | âŒ | âš ï¸ |
| ä¸åŒå›¢é˜Ÿ | âŒ | âœ… | âœ… |

---

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼ˆåŸºäºåœºæ™¯ï¼‰

### åœºæ™¯ 1: åŒä¸€å…¬å¸ï¼ŒåŒä¸€å›¢é˜Ÿ

```
æ¨èï¼šMonorepo â­â­â­

Git ç»“æ„ï¼š
biya-coin/                  (å•ä¸€ repo)
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ bridge/
â”‚   â”œâ”€â”€ dex/
â”‚   â””â”€â”€ helix/
â””â”€â”€ packages/
    â””â”€â”€ shared/

éƒ¨ç½²ï¼š
Bridge:  apps/bridge/  â†’ bridge.biya.com
DEX:     apps/dex/     â†’ dex.biya.com
Helix:   apps/helix/   â†’ biya.com
```

**ä¼˜ç‚¹**ï¼š
- âœ… ä»£ç å…±äº«é›¶æˆæœ¬
- âœ… ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†
- âœ… ä¸€æ¬¡ä¿®æ”¹ï¼Œå¤šå¤„ç”Ÿæ•ˆ
- âœ… ä»ç„¶ç‹¬ç«‹éƒ¨ç½²

**ç«‹å³å¼€å§‹**ï¼š
```bash
cd D:\rwa\biya-coin
# å·²ç»æ˜¯ Monorepo ç»“æ„äº†ï¼
```

---

### åœºæ™¯ 2: ä¸åŒå›¢é˜Ÿï¼Œç‹¬ç«‹å¼€å‘

```
æ¨èï¼šMulti-repo â­â­â­

Git ç»“æ„ï¼š
https://github.com/biya/bridge     (repo 1)
https://github.com/biya/dex        (repo 2)
https://github.com/biya/helix      (repo 3)

å…±äº«ä»£ç ï¼š
https://github.com/biya/shared     (npm åŒ…)
npm install @biya/shared
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨ç‹¬ç«‹
- âœ… æƒé™ä¸¥æ ¼æ§åˆ¶
- âœ… å›¢é˜Ÿäº’ä¸å¹²æ‰°

**å®æ–½**ï¼š
```bash
# 1. æ‹†åˆ†ç°æœ‰é¡¹ç›®
git filter-branch --subdirectory-filter apps/bridge

# 2. åˆ›å»ºç‹¬ç«‹ä»“åº“
git remote add origin https://github.com/biya/bridge
git push -u origin main
```

---

### åœºæ™¯ 3: æ··åˆéœ€æ±‚ï¼ˆéƒ¨åˆ†å¤–åŒ…/ä¸¥æ ¼æƒé™ï¼‰

```
æ¨èï¼šHybrid (Submodules) â­â­

Git ç»“æ„ï¼š
biya-monorepo/              (ä¸» repo)
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ bridge/             (submodule - å¤–åŒ…å›¢é˜Ÿ)
â”‚   â”œâ”€â”€ dex/                (submodule - å¤–åŒ…å›¢é˜Ÿ)
â”‚   â””â”€â”€ helix/              (æœ¬åœ°ä»£ç  - å†…éƒ¨å›¢é˜Ÿ)
â””â”€â”€ packages/
    â””â”€â”€ shared/             (æœ¬åœ°ä»£ç  - å†…éƒ¨å›¢é˜Ÿ)
```

**ä¼˜ç‚¹**ï¼š
- âœ… çµæ´»æ€§é«˜
- âœ… æƒé™å¯æ§
- âœ… æ—¢å¯å…±äº«åˆå¯éš”ç¦»

**å®æ–½**ï¼š
```bash
# æ·»åŠ  submodule
git submodule add https://github.com/biya/bridge apps/bridge
git submodule add https://github.com/biya/dex apps/dex
```

---

## ğŸ”¥ å…³é”®ç‚¹ç†è§£

### 1. Git ç­–ç•¥ â‰  éƒ¨ç½²ç­–ç•¥

```
Git ç­–ç•¥ï¼š         å¦‚ä½•ç»„ç»‡ä»£ç ä»“åº“
éƒ¨ç½²ç­–ç•¥ï¼š         å¦‚ä½•å‘å¸ƒä¸Šçº¿

ä¸¤è€…ç‹¬ç«‹ï¼éƒ½å¯ä»¥å•ç‹¬éƒ¨ç½²ï¼
```

### 2. Monorepo ä»å¯ç‹¬ç«‹éƒ¨ç½²

```
è¯¯è§£ï¼šMonorepo = åªèƒ½ä¸€èµ·éƒ¨ç½² âŒ

äº‹å®ï¼š
- Monorepo = ä»£ç åœ¨ä¸€èµ·
- éƒ¨ç½² = å®Œå…¨ç‹¬ç«‹
- ä¿®æ”¹ Bridge â†’ åªéƒ¨ç½² Bridge âœ…
```

### 3. éƒ¨ç½²å®Œå…¨ç‹¬ç«‹

```
æ— è®ºç”¨å“ªç§ Git ç­–ç•¥ï¼š

âœ… ç‹¬ç«‹åŸŸå     bridge.biya.com, dex.biya.com
âœ… ç‹¬ç«‹éƒ¨ç½²     ä¿®æ”¹ Bridge ä¸å½±å“ DEX
âœ… ç‹¬ç«‹å›æ»š     Bridge å‡ºé—®é¢˜ä¸å½±å“ DEX
âœ… ç‹¬ç«‹æ‰©å±•     Bridge æµé‡å¤§å¯ä»¥å•ç‹¬æ‰©å®¹
```

---

## ğŸš€ 5 åˆ†é’Ÿå®æ–½æŒ‡å—

### æ–¹æ¡ˆ A: ç»§ç»­ Monorepoï¼ˆæ¨èï¼‰

```bash
# ä½ å·²ç»æœ‰äº†ï¼æ— éœ€æ”¹å˜
cd D:\rwa\biya-coin

# é…ç½® Vercel ç‹¬ç«‹éƒ¨ç½²
# 1. åˆ›å»º 3 ä¸ª Vercel é¡¹ç›®
# 2. æ¯ä¸ªé¡¹ç›®æŒ‡å®šä¸åŒçš„ Root Directory
# 3. é…ç½®ç‹¬ç«‹åŸŸå

âœ… å®Œæˆï¼
```

### æ–¹æ¡ˆ B: æ‹†åˆ†ä¸º Multi-repo

```bash
# 1. å¤‡ä»½
cp -r biya-coin biya-coin-backup

# 2. æå– Bridge
cd biya-coin
git filter-branch --subdirectory-filter apps/bridge
git remote set-url origin https://github.com/biya/bridge
git push -u origin main

# 3. å¯¹ DEX å’Œ Helix é‡å¤æ­¥éª¤ 2

# 4. å‘å¸ƒå…±äº«åŒ…
cd packages/shared
npm init @scope/shared
npm publish

âœ… å®Œæˆï¼
```

### æ–¹æ¡ˆ C: ä½¿ç”¨ Submodules

```bash
# 1. åˆ›å»ºä¸»ä»“åº“
mkdir biya-monorepo
cd biya-monorepo
git init

# 2. æ·»åŠ å­é¡¹ç›®
git submodule add https://github.com/biya/bridge apps/bridge
git submodule add https://github.com/biya/dex apps/dex

# 3. æ·»åŠ æœ¬åœ°ä»£ç 
mkdir -p apps/helix packages/shared

âœ… å®Œæˆï¼
```

---

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥è¡¨

### âœ… Monorepo é€‚åˆä½ ï¼Œå¦‚æœï¼š

- [ ] åŒä¸€ä¸ªå›¢é˜Ÿå¼€å‘
- [ ] éœ€è¦é¢‘ç¹å…±äº«ä»£ç 
- [ ] å¸Œæœ›ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†
- [ ] æ„¿æ„æ•´ä¸ªå›¢é˜Ÿçœ‹åˆ°æ‰€æœ‰ä»£ç 
- [ ] æƒ³è¦ç®€åŒ–ç®¡ç†

### âœ… Multi-repo é€‚åˆä½ ï¼Œå¦‚æœï¼š

- [ ] ä¸åŒå›¢é˜Ÿç‹¬ç«‹å¼€å‘
- [ ] éœ€è¦ä¸¥æ ¼æƒé™æ§åˆ¶
- [ ] ä¸åŒçš„å‘å¸ƒå‘¨æœŸ
- [ ] é¡¹ç›®å…³è”æ€§å¼±
- [ ] å€¾å‘äºå¾®æœåŠ¡æ¶æ„

### âœ… Hybrid é€‚åˆä½ ï¼Œå¦‚æœï¼š

- [ ] éƒ¨åˆ†é¡¹ç›®éœ€è¦æƒé™éš”ç¦»
- [ ] æœ‰å¤–åŒ…å›¢é˜Ÿå‚ä¸
- [ ] éœ€è¦çµæ´»çš„ç®¡ç†æ–¹å¼
- [ ] æ„¿æ„æ¥å—å¤æ‚åº¦

---

## ğŸ“ å¸¸è§è¯¯è§£

### âŒ è¯¯è§£ 1: Monorepo ä¸èƒ½ç‹¬ç«‹éƒ¨ç½²
âœ… **äº‹å®**: å®Œå…¨å¯ä»¥ï¼Vercel/Netlify æ”¯æŒ Monorepo ç‹¬ç«‹éƒ¨ç½²

### âŒ è¯¯è§£ 2: Multi-repo æ— æ³•å…±äº«ä»£ç 
âœ… **äº‹å®**: å¯ä»¥ï¼é€šè¿‡ npm åŒ…å…±äº«

### âŒ è¯¯è§£ 3: Submodules å¾ˆéš¾ç”¨
âœ… **äº‹å®**: æœ‰ç‚¹å¤æ‚ï¼Œä½†å¾ˆå¼ºå¤§

---

## ğŸ’¡ æœ€ä½³å®è·µ

### æ¨èæµç¨‹

```
1. å¦‚æœæ²¡æœ‰ç‰¹æ®Šç†ç”± â†’ é€‰ Monorepo
2. å¦‚æœæœ‰ä¸¥æ ¼æƒé™è¦æ±‚ â†’ é€‰ Multi-repo
3. å¦‚æœéœ€è¦æ··åˆç®¡ç† â†’ é€‰ Hybrid
```

### æˆ‘çš„å»ºè®®

**å¯¹äº Biya é¡¹ç›®**ï¼š
- ğŸ¯ **ä½¿ç”¨ Monorepo**
- ä½ å·²ç»æœ‰äº†è¿™ä¸ªç»“æ„
- é…ç½® Vercel ç‹¬ç«‹éƒ¨ç½²
- äº«å—ä»£ç å…±äº«çš„ä¾¿åˆ©
- ä¿æŒéƒ¨ç½²çš„ç‹¬ç«‹æ€§

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[å®Œæ•´ Git ç­–ç•¥](./GIT_AND_DEPLOYMENT_STRATEGY.md)** - è¯¦ç»†å¯¹æ¯”å’Œå®æ–½
- **[ç‹¬ç«‹éƒ¨ç½²æ–¹æ¡ˆ](./BRIDGE_INDEPENDENT_DEPLOYMENT_PLAN.md)** - Vercel éƒ¨ç½²é…ç½®
- **[å…±äº«åŠŸèƒ½](./SHARED_FEATURES_IN_MONOREPO.md)** - ä»£ç å…±äº«æ–¹æ¡ˆ

---

## ğŸ¯ ç«‹å³è¡ŒåŠ¨

### å¦‚æœä½ é€‰æ‹©äº† Monorepoï¼ˆæ¨èï¼‰

```bash
# 1. ç¡®è®¤å½“å‰ç»“æ„
ls -la D:\rwa\biya-coin

# 2. é…ç½® Vercel
# - è®¿é—® vercel.com
# - åˆ›å»º 3 ä¸ªé¡¹ç›®
# - æŒ‡å®šä¸åŒçš„ Root Directory

# 3. å¼€å§‹å¼€å‘
cd apps/bridge
npm run dev

âœ… å®Œæˆï¼
```

---

*æœ€åæ›´æ–°: 2025-10-30*

