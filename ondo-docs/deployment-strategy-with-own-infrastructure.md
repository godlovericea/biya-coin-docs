# åŸºäºè‡ªæœ‰åŸºç¡€è®¾æ–½çš„éƒ¨ç½²æ–¹æ¡ˆ

## ğŸ¯ å‰ææ¡ä»¶
- âœ… æœ‰è¿ç»´å·¥ç¨‹å¸ˆå›¢é˜Ÿ
- âœ… æœ‰è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘æµ·å¤–ï¼‰
- âœ… æœ‰æŠ€æœ¯æŒæ§èƒ½åŠ›

**è¿™ç§æƒ…å†µä¸‹ï¼Œå†³ç­–å› ç´ å®Œå…¨ä¸åŒï¼**

---

## ğŸ“Š é‡æ–°è¯„ä¼°å¯¹æ¯”

### å…³é”®å˜åŒ–ï¼šæˆæœ¬ç»“æ„ä¸åŒ

| é¡¹ç›® | Vercel | è‡ªæœ‰æœåŠ¡å™¨ |
|-----|--------|-----------|
| **æœåŠ¡å™¨æˆæœ¬** | å«åœ¨ Vercel ä»·æ ¼ä¸­ | **å·²æ”¯ä»˜ï¼ˆæ²‰æ²¡æˆæœ¬ï¼‰** âœ… |
| **è¿ç»´æˆæœ¬** | $0 | **å·²æ”¯ä»˜ï¼ˆå›ºå®šå·¥èµ„ï¼‰** âœ… |
| **è¾¹é™…æˆæœ¬** | æŒ‰æµé‡æ”¶è´¹ | **å‡ ä¹ä¸º 0** âœ… |
| **èµ„æºåˆ©ç”¨** | æ— æ³•å¤ç”¨ | **å……åˆ†åˆ©ç”¨ç°æœ‰èµ„æº** âœ… |

**ç»“è®ºï¼šä½¿ç”¨è‡ªæœ‰æœåŠ¡å™¨çš„è¾¹é™…æˆæœ¬å‡ ä¹ä¸º 0**

---

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼ˆä¿®è®¢ç‰ˆï¼‰

### æ–¹æ¡ˆ Aï¼šè‡ªæœ‰æœåŠ¡å™¨ + CDNï¼ˆâ­â­â­â­â­ æ¨èï¼‰

```
æ¶æ„ï¼š
â”œâ”€â”€ æºç«™ï¼šé˜¿é‡Œäº‘æµ·å¤–æœåŠ¡å™¨ï¼ˆæ‚¨å·²æœ‰ï¼‰
â”œâ”€â”€ CDNï¼šä¸ƒç‰›äº‘å…¨çƒ CDN
â””â”€â”€ è¿ç»´ï¼šæ‚¨çš„å›¢é˜Ÿç»´æŠ¤

ä¼˜åŠ¿ï¼š
âœ… å……åˆ†åˆ©ç”¨ç°æœ‰èµ„æº
âœ… å®Œå…¨æŒæ§
âœ… è¾¹é™…æˆæœ¬æä½ï¼ˆåªéœ€ CDN æµé‡è´¹ï¼‰
âœ… æ•°æ®è‡ªä¸»å¯æ§
âœ… å¯æ·±åº¦å®šåˆ¶ä¼˜åŒ–
âœ… å›¢é˜Ÿç»éªŒç§¯ç´¯

æˆæœ¬ï¼š
- æœåŠ¡å™¨ï¼šå·²æœ‰ï¼ˆæ²‰æ²¡æˆæœ¬ï¼‰
- è¿ç»´ï¼šå·²æœ‰ï¼ˆå›ºå®šå·¥èµ„ï¼‰
- æ–°å¢ï¼šCDN æµé‡è´¹ Â¥0.18/GB
- æœˆå¢æˆæœ¬ï¼š~Â¥50-200ï¼ˆå–å†³äºæµé‡ï¼‰
```

---

## ğŸ—ï¸ æ¨èæ¶æ„è®¾è®¡

### å®Œæ•´æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·è¯·æ±‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸ƒç‰›äº‘å…¨çƒ CDNï¼ˆé™æ€èµ„æºï¼‰                â”‚
â”‚  - å›¾ç‰‡ã€è§†é¢‘ã€CSSã€JS                            â”‚
â”‚  - å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜                               â”‚
â”‚  - è‡ªåŠ¨å‹ç¼©ã€WebP è½¬æ¢                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼ ï¼ˆå›æºï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       é˜¿é‡Œäº‘æµ·å¤–æœåŠ¡å™¨ï¼ˆæ‚¨çš„ï¼‰                     â”‚
â”‚  â”œâ”€â”€ Nginxï¼ˆåå‘ä»£ç† + è´Ÿè½½å‡è¡¡ï¼‰                 â”‚
â”‚  â”œâ”€â”€ PM2ï¼ˆNode.js è¿›ç¨‹ç®¡ç†ï¼‰                     â”‚
â”‚  â”œâ”€â”€ Next.jsï¼ˆSSR + API Routesï¼‰                â”‚
â”‚  â””â”€â”€ ç›‘æ§ï¼ˆPrometheus + Grafanaï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å…·ä½“å®æ–½æ–¹æ¡ˆ

### Step 1ï¼šæœåŠ¡å™¨é…ç½®ï¼ˆ30åˆ†é’Ÿï¼‰

```bash
# 1. å®‰è£… Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 2. å®‰è£… PM2ï¼ˆç”Ÿäº§çº§è¿›ç¨‹ç®¡ç†ï¼‰
npm install -g pm2

# 3. å®‰è£… Nginx
sudo apt install nginx

# 4. å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/biya-official-website.git
cd biya-official-website

# 5. å®‰è£…ä¾èµ–
npm install

# 6. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### Step 2ï¼šPM2 é…ç½®ï¼ˆ15åˆ†é’Ÿï¼‰

```javascript
// ecosystem.config.js
module.exports = {
  apps: [{
    name: 'biya-website',
    script: 'npm',
    args: 'start',
    instances: 'max',  // æ ¹æ® CPU æ ¸å¿ƒæ•°è‡ªåŠ¨æ‰©å±•
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    error_file: './logs/err.log',
    out_file: './logs/out.log',
    log_date_format: 'YYYY-MM-DD HH:mm:ss',
    
    // è‡ªåŠ¨é‡å¯é…ç½®
    max_memory_restart: '1G',
    
    // ä¼˜é›…é‡å¯
    kill_timeout: 5000,
    wait_ready: true,
    listen_timeout: 10000,
  }]
}

// å¯åŠ¨
pm2 start ecosystem.config.js
pm2 save
pm2 startup  // å¼€æœºè‡ªå¯
```

### Step 3ï¼šNginx é…ç½®ï¼ˆ20åˆ†é’Ÿï¼‰

```nginx
# /etc/nginx/sites-available/biya-website
upstream nextjs_upstream {
  server 127.0.0.1:3000;
  # å¦‚æœæœ‰å¤šä¸ªå®ä¾‹
  # server 127.0.0.1:3001;
  # server 127.0.0.1:3002;
  keepalive 64;
}

server {
  listen 80;
  listen [::]:80;
  server_name www.biya.com biya.com;

  # å¼ºåˆ¶ HTTPS
  return 301 https://$server_name$request_uri;
}

server {
  listen 443 ssl http2;
  listen [::]:443 ssl http2;
  server_name www.biya.com biya.com;

  # SSL è¯ä¹¦ï¼ˆLet's Encryptï¼‰
  ssl_certificate /etc/letsencrypt/live/biya.com/fullchain.pem;
  ssl_certificate_key /etc/letsencrypt/live/biya.com/privkey.pem;
  
  # SSL ä¼˜åŒ–
  ssl_protocols TLSv1.2 TLSv1.3;
  ssl_ciphers HIGH:!aNULL:!MD5;
  ssl_prefer_server_ciphers on;
  ssl_session_cache shared:SSL:10m;
  ssl_session_timeout 10m;

  # Gzip å‹ç¼©
  gzip on;
  gzip_vary on;
  gzip_min_length 1024;
  gzip_types text/plain text/css text/xml text/javascript 
             application/x-javascript application/xml+rss 
             application/javascript application/json;

  # é™æ€èµ„æºç¼“å­˜ï¼ˆNext.js /_next/staticï¼‰
  location /_next/static {
    proxy_pass http://nextjs_upstream;
    proxy_cache_valid 200 365d;
    add_header Cache-Control "public, max-age=31536000, immutable";
  }

  # å›¾ç‰‡ç­‰é™æ€èµ„æºï¼ˆå¦‚æœä¸ç”¨ CDNï¼‰
  location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2)$ {
    proxy_pass http://nextjs_upstream;
    expires 30d;
    add_header Cache-Control "public, max-age=2592000";
  }

  # API è·¯ç”±
  location /api {
    proxy_pass http://nextjs_upstream;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
  }

  # æ‰€æœ‰å…¶ä»–è¯·æ±‚
  location / {
    proxy_pass http://nextjs_upstream;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    
    # è¶…æ—¶è®¾ç½®
    proxy_connect_timeout 60s;
    proxy_send_timeout 60s;
    proxy_read_timeout 60s;
  }

  # å®‰å…¨å¤´
  add_header X-Frame-Options "SAMEORIGIN" always;
  add_header X-Content-Type-Options "nosniff" always;
  add_header X-XSS-Protection "1; mode=block" always;
  add_header Referrer-Policy "no-referrer-when-downgrade" always;
}

# å¯ç”¨é…ç½®
sudo ln -s /etc/nginx/sites-available/biya-website /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### Step 4ï¼šä¸ƒç‰›äº‘ CDN é…ç½®ï¼ˆ30åˆ†é’Ÿï¼‰

```typescript
// lib/cdn.ts
const CDN_DOMAIN = process.env.NEXT_PUBLIC_CDN_DOMAIN || 'https://cdn.biya.com'
const ORIGIN_DOMAIN = process.env.ORIGIN_DOMAIN || 'https://www.biya.com'

/**
 * é™æ€èµ„æº CDN åŒ–
 */
export function getCDNUrl(path: string) {
  // å¼€å‘ç¯å¢ƒä½¿ç”¨æœ¬åœ°
  if (process.env.NODE_ENV === 'development') {
    return path
  }
  
  // ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ CDN
  if (path.startsWith('/')) {
    return `${CDN_DOMAIN}${path}`
  }
  
  return path
}

// ä½¿ç”¨
import Image from 'next/image'
import { getCDNUrl } from '@/lib/cdn'

<Image src={getCDNUrl('/images/hero.jpg')} ... />
```

#### ä¸ƒç‰›äº‘é…ç½®æ­¥éª¤

```yaml
# 1. åˆ›å»ºå­˜å‚¨ç©ºé—´
åç§°: biya-cdn
åŒºåŸŸ: æ ¹æ®æœåŠ¡å™¨ä½ç½®ï¼ˆå¦‚æ–°åŠ å¡ï¼‰
è®¿é—®æ§åˆ¶: å…¬å¼€

# 2. é…ç½® CDN åŠ é€Ÿ
å›æºè®¾ç½®:
  - æºç«™ç±»å‹: æºç«™åŸŸå
  - æºç«™åœ°å€: www.biya.com
  - åè®®: HTTPS
  
ç¼“å­˜é…ç½®:
  - /_next/static/*: 365å¤©
  - /images/*: 30å¤©
  - /videos/*: 30å¤©
  - /*.html: 10åˆ†é’Ÿ
  
å›¾ç‰‡å¤„ç†:
  - è‡ªåŠ¨ WebP
  - æ™ºèƒ½å‹ç¼©
  - æŒ‰éœ€è£å‰ª

# 3. ç»‘å®šåŸŸå
CDN åŸŸå: cdn.biya.com
CNAME è®°å½•: æŒ‡å‘ä¸ƒç‰›äº‘æä¾›çš„åŸŸå

# 4. HTTPS é…ç½®
ä¸Šä¼  SSL è¯ä¹¦æˆ–ä½¿ç”¨ä¸ƒç‰›äº‘å…è´¹è¯ä¹¦
```

---

## ğŸš€ CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²

### GitHub Actions é…ç½®

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Build
      run: npm run build
      env:
        NODE_ENV: production
    
    - name: Deploy to Server
      uses: easingthemes/ssh-deploy@main
      env:
        SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
        ARGS: "-avz --delete"
        SOURCE: ".next/ public/ package.json package-lock.json"
        REMOTE_HOST: ${{ secrets.REMOTE_HOST }}
        REMOTE_USER: ${{ secrets.REMOTE_USER }}
        TARGET: "/var/www/biya-website"
    
    - name: Restart PM2
      uses: appleboy/ssh-action@master
      with:
        host: ${{ secrets.REMOTE_HOST }}
        username: ${{ secrets.REMOTE_USER }}
        key: ${{ secrets.SSH_PRIVATE_KEY }}
        script: |
          cd /var/www/biya-website
          pm2 reload ecosystem.config.js
    
    - name: Upload to Qiniu CDN (Optional)
      run: |
        # ä¸Šä¼ é™æ€èµ„æºåˆ°ä¸ƒç‰›äº‘
        npm run upload:cdn
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

### 1. æœåŠ¡å™¨çº§åˆ«ä¼˜åŒ–

```bash
# 1. å¼€å¯ TCP BBRï¼ˆæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼‰
echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
sysctl -p

# 2. è°ƒæ•´ç³»ç»Ÿå‚æ•°
cat >> /etc/sysctl.conf << EOF
# å¢åŠ æœ€å¤§æ–‡ä»¶æè¿°ç¬¦
fs.file-max = 65535

# ç½‘ç»œä¼˜åŒ–
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_keepalive_time = 1200
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_tw_reuse = 1
EOF

sysctl -p
```

### 2. Node.js ä¼˜åŒ–

```javascript
// next.config.js
module.exports = {
  // ç”Ÿäº§ä¼˜åŒ–
  compress: true,  // Gzip å‹ç¼©
  poweredByHeader: false,  // éšè— X-Powered-By
  
  // å›¾ç‰‡ä¼˜åŒ–
  images: {
    domains: ['cdn.biya.com'],
    formats: ['image/avif', 'image/webp'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920],
    minimumCacheTTL: 60,
  },
  
  // ç¼–è¯‘ä¼˜åŒ–
  swcMinify: true,
  
  // å®éªŒæ€§åŠŸèƒ½
  experimental: {
    optimizeCss: true,
  },
}
```

### 3. Redis ç¼“å­˜ï¼ˆå¯é€‰ï¼‰

```typescript
// lib/cache.ts
import Redis from 'ioredis'

const redis = new Redis({
  host: 'localhost',
  port: 6379,
})

/**
 * API å“åº”ç¼“å­˜
 */
export async function getCachedData(key: string, fetcher: () => Promise<any>, ttl = 300) {
  // å°è¯•ä»ç¼“å­˜è·å–
  const cached = await redis.get(key)
  if (cached) {
    return JSON.parse(cached)
  }
  
  // ç¼“å­˜æœªå‘½ä¸­ï¼Œè·å–æ•°æ®
  const data = await fetcher()
  await redis.setex(key, ttl, JSON.stringify(data))
  
  return data
}

// ä½¿ç”¨
export async function getProductData() {
  return getCachedData('products', async () => {
    return await fetchFromAPI('/api/products')
  }, 600)  // ç¼“å­˜ 10 åˆ†é’Ÿ
}
```

---

## ğŸ“ˆ ç›‘æ§å’Œå‘Šè­¦

### 1. PM2 ç›‘æ§

```bash
# å®‰è£… PM2 Plusï¼ˆå…è´¹ç‰ˆï¼‰
pm2 install pm2-server-monit

# æŸ¥çœ‹å®æ—¶ç›‘æ§
pm2 monit

# æŸ¥çœ‹æ—¥å¿—
pm2 logs biya-website

# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
pm2 status
```

### 2. Nginx æ—¥å¿—åˆ†æ

```bash
# å®‰è£… GoAccessï¼ˆå®æ—¶æ—¥å¿—åˆ†æï¼‰
sudo apt install goaccess

# å®æ—¶åˆ†æ
goaccess /var/log/nginx/access.log -o /var/www/html/report.html --real-time-html

# å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®å®æ—¶ç›‘æ§é¢æ¿
```

### 3. æ€§èƒ½ç›‘æ§

```typescript
// lib/monitoring.ts
import * as Sentry from '@sentry/nextjs'

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 0.1,  // 10% è¯·æ±‚è¿½è¸ª
})

// è‡ªå®šä¹‰æ€§èƒ½ç›‘æ§
export function trackPerformance(name: string, duration: number) {
  // å‘é€åˆ°ç›‘æ§ç³»ç»Ÿ
  console.log(`[Performance] ${name}: ${duration}ms`)
}
```

---

## ğŸ’° æˆæœ¬å¯¹æ¯”ï¼ˆæ›´æ–°ç‰ˆï¼‰

### ä½¿ç”¨è‡ªæœ‰æœåŠ¡å™¨ + CDN

```
å›ºå®šæˆæœ¬ï¼ˆå·²æœ‰ï¼‰ï¼š
â”œâ”€â”€ æœåŠ¡å™¨ï¼šÂ¥0ï¼ˆå·²æ”¯ä»˜ï¼‰
â”œâ”€â”€ è¿ç»´ï¼šÂ¥0ï¼ˆå›ºå®šå·¥èµ„ï¼‰
â””â”€â”€ å¸¦å®½ï¼šÂ¥0ï¼ˆåŒ…å«åœ¨æœåŠ¡å™¨è´¹ç”¨ä¸­ï¼‰

æ–°å¢æˆæœ¬ï¼š
â””â”€â”€ ä¸ƒç‰›äº‘ CDNï¼šÂ¥0.18/GB

æœˆæ–°å¢æˆæœ¬ä¼°ç®—ï¼š
- æµé‡ 100GBï¼šÂ¥18
- æµé‡ 500GBï¼šÂ¥90
- æµé‡ 1TBï¼šÂ¥180

å¹´æ–°å¢æˆæœ¬ï¼šÂ¥216 - Â¥2160
```

### ä½¿ç”¨ Vercel

```
æˆæœ¬ï¼š
â”œâ”€â”€ Hobbyï¼ˆå…è´¹ï¼‰ï¼š$0ï¼ˆ100GB é™åˆ¶ï¼‰
â””â”€â”€ Proï¼š$20/æœˆ = Â¥140/æœˆ = Â¥1680/å¹´

ä½†æ— æ³•åˆ©ç”¨ï¼š
âŒ å·²æœ‰æœåŠ¡å™¨èµ„æº
âŒ è¿ç»´å›¢é˜Ÿèƒ½åŠ›
âŒ æ•°æ®è‡ªä¸»æ§åˆ¶
```

**ç»“è®ºï¼šä½¿ç”¨è‡ªæœ‰æœåŠ¡å™¨æ›´åˆ’ç®—ï¼Œä¸”æ›´å¯æ§**

---

## ğŸ¯ æœ€ç»ˆæ¨èæ–¹æ¡ˆ

### â­â­â­â­â­ æ¨èï¼šè‡ªæœ‰æœåŠ¡å™¨ + ä¸ƒç‰›äº‘ CDN

```yaml
æ¶æ„ï¼š
  æºç«™: é˜¿é‡Œäº‘æµ·å¤–æœåŠ¡å™¨ï¼ˆæ‚¨å·²æœ‰ï¼‰
  åº”ç”¨: Next.js + Node.js + PM2
  åå‘ä»£ç†: Nginx
  CDN: ä¸ƒç‰›äº‘å…¨çƒåŠ é€Ÿ
  ç›‘æ§: PM2 + æ—¥å¿—åˆ†æ

ä¼˜åŠ¿ï¼š
  âœ… å……åˆ†åˆ©ç”¨ç°æœ‰èµ„æºï¼ˆæœåŠ¡å™¨ + è¿ç»´ï¼‰
  âœ… è¾¹é™…æˆæœ¬æä½ï¼ˆåªéœ€ CDN æµé‡è´¹ï¼‰
  âœ… å®Œå…¨æŒæ§ï¼ˆæ•°æ®ã€é…ç½®ã€ä¼˜åŒ–ï¼‰
  âœ… å›¢é˜Ÿèƒ½åŠ›æå‡ï¼ˆç§¯ç´¯ç»éªŒï¼‰
  âœ… å¯æ·±åº¦å®šåˆ¶ä¼˜åŒ–
  âœ… æ•°æ®å®‰å…¨å¯æ§

æ€§èƒ½ï¼š
  âœ… å…¨çƒ CDN åŠ é€Ÿï¼ˆä¸ƒç‰›äº‘ï¼‰
  âœ… æœ¬åœ°ä¼˜åŒ–ç©ºé—´å¤§
  âœ… å¯æ ¹æ®éœ€æ±‚è°ƒæ•´

æˆæœ¬ï¼š
  âœ… å¹´æ–°å¢æˆæœ¬ï¼šÂ¥200-2000ï¼ˆå–å†³äºæµé‡ï¼‰
  âœ… å¯¹æ¯” Vercel èŠ‚çœï¼šå¯èƒ½èŠ‚çœï¼ˆå¦‚æœåˆ©ç”¨å¥½ç°æœ‰èµ„æºï¼‰
```

---

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€å‘¨ï¼šåŸºç¡€éƒ¨ç½²

```bash
Day 1-2: æœåŠ¡å™¨ç¯å¢ƒé…ç½®
  - Node.js å®‰è£…
  - PM2 é…ç½®
  - Nginx é…ç½®
  - SSL è¯ä¹¦

Day 3-4: åº”ç”¨éƒ¨ç½²
  - ä»£ç éƒ¨ç½²
  - ç¯å¢ƒå˜é‡é…ç½®
  - PM2 å¯åŠ¨
  - åŸŸåç»‘å®š

Day 5: æµ‹è¯•å’Œä¼˜åŒ–
  - æ€§èƒ½æµ‹è¯•
  - è´Ÿè½½æµ‹è¯•
  - æ—¥å¿—é…ç½®
```

### ç¬¬äºŒå‘¨ï¼šCDN å’Œç›‘æ§

```bash
Day 1-2: ä¸ƒç‰›äº‘ CDN
  - é…ç½®å›æº
  - ç¼“å­˜ç­–ç•¥
  - å›¾ç‰‡å¤„ç†
  - åŸŸåç»‘å®š

Day 3-4: ç›‘æ§å’Œå‘Šè­¦
  - PM2 ç›‘æ§
  - æ—¥å¿—åˆ†æ
  - æ€§èƒ½è¿½è¸ª
  - å‘Šè­¦é…ç½®

Day 5: CI/CD
  - GitHub Actions
  - è‡ªåŠ¨éƒ¨ç½²
  - æµ‹è¯•æµç¨‹
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥

- [ ] æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡å®Œæ¯•ï¼ˆNode.jsã€PM2ã€Nginxï¼‰
- [ ] SSL è¯ä¹¦å·²é…ç½®
- [ ] åŸŸåå·²è§£æ
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] æ•°æ®åº“è¿æ¥å·²æµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰

### éƒ¨ç½²åæ£€æŸ¥

- [ ] ç½‘ç«™å¯æ­£å¸¸è®¿é—®ï¼ˆHTTP/HTTPSï¼‰
- [ ] PM2 è¿›ç¨‹è¿è¡Œæ­£å¸¸
- [ ] Nginx æ—¥å¿—æ— é”™è¯¯
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼ˆ< 2s åŠ è½½ï¼‰
- [ ] ç›‘æ§é…ç½®ç”Ÿæ•ˆ

### CDN æ£€æŸ¥

- [ ] é™æ€èµ„æºèµ° CDN
- [ ] å›¾ç‰‡è‡ªåŠ¨ WebP è½¬æ¢
- [ ] ç¼“å­˜ç­–ç•¥ç”Ÿæ•ˆ
- [ ] å›æºæ­£å¸¸

---

## âœ… æ€»ç»“

**æ—¢ç„¶æ‚¨æœ‰è‡ªå·±çš„è¿ç»´å›¢é˜Ÿå’ŒæœåŠ¡å™¨ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨è‡ªæœ‰åŸºç¡€è®¾æ–½ï¼**

### æ ¸å¿ƒä¼˜åŠ¿

```
1. âœ… èµ„æºåˆ©ç”¨æœ€å¤§åŒ–
   - æœåŠ¡å™¨å·²æœ‰
   - è¿ç»´å›¢é˜Ÿå·²æœ‰
   - è¾¹é™…æˆæœ¬æ¥è¿‘ 0

2. âœ… å®Œå…¨æŒæ§
   - æ•°æ®å®‰å…¨
   - æ·±åº¦å®šåˆ¶
   - ä¼˜åŒ–ç©ºé—´å¤§

3. âœ… å›¢é˜Ÿæˆé•¿
   - ç§¯ç´¯ç»éªŒ
   - æŠ€æœ¯æ²‰æ·€
   - é—®é¢˜å¿«é€Ÿè§£å†³

4. âœ… æˆæœ¬å¯æ§
   - åªéœ€ CDN æµé‡è´¹
   - å¹´å¢æˆæœ¬ < Â¥2000
   - ç›¸æ¯” Vercel å¯èƒ½æ›´çœ
```

éœ€è¦æˆ‘å¸®æ‚¨ï¼š
1. ç”Ÿæˆå®Œæ•´çš„éƒ¨ç½²è„šæœ¬ï¼Ÿ
2. é…ç½® Nginx æ–‡ä»¶ï¼Ÿ
3. è®¾ç½® CI/CD æµç¨‹ï¼Ÿ
4. é…ç½®ç›‘æ§å’Œå‘Šè­¦ï¼Ÿ ğŸš€

