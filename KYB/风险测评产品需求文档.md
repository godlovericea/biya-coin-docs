# 个人风险测评系统 - 产品需求文档

## 文档信息
- **文档版本**: v1.0
- **创建日期**: 2025-11-07
- **产品名称**: 个人风险承受能力测评系统
- **目标用户**: 个人投资者

---

## 1. 产品概述

### 1.1 产品定位
个人风险测评系统是一个用于评估用户风险承受能力的工具，通过问卷形式收集用户的财务状况、投资经验、风险偏好等信息，计算出用户的风险承受能力等级，为后续的产品推荐和投资建议提供依据。

### 1.2 业务价值
- **合规要求**: 满足金融监管对客户适当性管理的要求
- **风险控制**: 帮助用户匹配合适的投资产品，降低投资风险
- **用户教育**: 帮助用户了解自身风险承受能力
- **产品推荐**: 为智能投顾和产品推荐提供数据支持

### 1.3 适用场景
- 新用户注册后的首次风险测评
- 投资产品购买前的风险匹配检查
- 定期（年度）风险评估更新
- 用户主动发起的风险重评

---

## 2. 评分机制详解

### 2.1 评分体系概述

风险测评采用**累加计分制**，总分范围为 **10-50 分**。

#### 核心原则
1. **多维度评估**: 从年龄、财务状况、投资经验、风险态度等多个维度综合评估
2. **量化打分**: 每个问题的每个选项对应不同分值（1-5分）
3. **线性累加**: 最终得分 = 所有问题得分之和
4. **区间划分**: 根据总分将用户划分为5个风险等级

#### 打分范围
- **最低分**: 10分（所有问题选择1分选项）
- **最高分**: 50分（所有问题选择5分选项）
- **题目数量**: 10题
- **单题分值**: 1-5分

---

### 2.2 题目设计与评分标准

#### 问题 1：年龄（权重系数：1.0）

**问题**: 您的年龄是？

**评分逻辑**: 年龄越小，风险承受能力越强（恢复能力强、投资周期长）

| 选项 | 分值 | 说明 |
|------|------|------|
| 18-30岁 | 5分 | 年轻，有较长时间应对风险 |
| 31-40岁 | 4分 | 事业上升期，收入稳定增长 |
| 41-50岁 | 3分 | 中年，需兼顾家庭和养老 |
| 51-60岁 | 2分 | 临近退休，风险承受能力下降 |
| 60岁以上 | 1分 | 退休阶段，需保障本金安全 |

---

#### 问题 2：年收入水平（权重系数：1.0）

**问题**: 您的年收入水平是？（包括工资、奖金、投资收益等所有收入）

**评分逻辑**: 收入越高，抗风险能力越强

| 选项 | 分值 | 说明 |
|------|------|------|
| 10万元以下 | 1分 | 收入较低，需谨慎投资 |
| 10-30万元 | 2分 | 收入一般，适度投资 |
| 30-50万元 | 3分 | 收入较好，可承担中等风险 |
| 50-100万元 | 4分 | 收入较高，抗风险能力强 |
| 100万元以上 | 5分 | 高收入，可承受较大风险 |

---

#### 问题 3：投资经验（权重系数：1.0）

**问题**: 您的投资经验如何？

**评分逻辑**: 经验越丰富，对风险的理解和应对能力越强

| 选项 | 分值 | 说明 |
|------|------|------|
| 没有投资经验 | 1分 | 新手，需从低风险产品开始 |
| 1年以下 | 2分 | 初级投资者 |
| 1-3年 | 3分 | 有一定经验 |
| 3-5年 | 4分 | 经验丰富 |
| 5年以上 | 5分 | 资深投资者 |

---

#### 问题 4：投资目的（权重系数：1.0）

**问题**: 您投资的主要目的是？

**评分逻辑**: 投资目标越激进，风险承受意愿越高

| 选项 | 分值 | 说明 |
|------|------|------|
| 资产保值，保本为主 | 1分 | 保守目标 |
| 稳定增值，追求稳定收益 | 2分 | 稳健目标 |
| 资产增值，愿意承担一定风险 | 3分 | 平衡目标 |
| 追求高收益，可承受较大波动 | 4分 | 成长目标 |
| 激进投资，追求最大收益 | 5分 | 进取目标 |

---

#### 问题 5：投资期限（权重系数：1.0）

**问题**: 您计划的投资期限是？

**评分逻辑**: 投资期限越长，可承受短期波动的能力越强

| 选项 | 分值 | 说明 |
|------|------|------|
| 3个月以内 | 1分 | 短期投资，需要流动性 |
| 3-6个月 | 2分 | 较短期 |
| 6-12个月 | 3分 | 中期投资 |
| 1-3年 | 4分 | 中长期投资 |
| 3年以上 | 5分 | 长期投资，可平滑波动 |

---

#### 问题 6：可投资资金比例（权重系数：1.0）

**问题**: 您可用于投资的资金占总资产的比例？

**评分逻辑**: 可投资比例越高，表示对投资风险的容忍度越高

| 选项 | 分值 | 说明 |
|------|------|------|
| 10%以下 | 1分 | 小比例尝试 |
| 10%-30% | 2分 | 适度配置 |
| 30%-50% | 3分 | 较大配置 |
| 50%-70% | 4分 | 主要资产用于投资 |
| 70%以上 | 5分 | 绝大部分资产投资 |

---

#### 问题 7：亏损反应（权重系数：1.0）

**问题**: 如果您的投资在短期内下跌20%，您会？

**评分逻辑**: 行为越激进，风险承受能力越强

| 选项 | 分值 | 说明 |
|------|------|------|
| 立即全部卖出止损 | 1分 | 无法承受亏损 |
| 卖出大部分，保留少量 | 2分 | 风险厌恶 |
| 继续持有，观望 | 3分 | 理性面对 |
| 适当补仓，分摊成本 | 4分 | 逆向思维 |
| 大量补仓，把握机会 | 5分 | 高风险偏好 |

---

#### 问题 8：金融产品了解程度（权重系数：1.0）

**问题**: 您对金融产品的了解程度？（包括股票、基金、债券、衍生品等）

**评分逻辑**: 了解越深入，可以参与更复杂、高风险的产品

| 选项 | 分值 | 说明 |
|------|------|------|
| 完全不了解 | 1分 | 需要投资者教育 |
| 了解基础知识 | 2分 | 初级水平 |
| 有一定了解 | 3分 | 中等水平 |
| 比较了解 | 4分 | 较高水平 |
| 非常了解 | 5分 | 专业水平 |

---

#### 问题 9：可承受最大亏损（权重系数：1.0）

**问题**: 您能承受的最大亏损比例是？

**评分逻辑**: 可承受亏损越大，风险等级越高

| 选项 | 分值 | 说明 |
|------|------|------|
| 不能承受任何亏损 | 1分 | 零风险承受能力 |
| 5%以内 | 2分 | 极低风险承受 |
| 5%-15% | 3分 | 中等风险承受 |
| 15%-30% | 4分 | 较高风险承受 |
| 30%以上 | 5分 | 高风险承受 |

---

#### 问题 10：投资态度（权重系数：1.0）

**问题**: 以下哪种说法最符合您的投资态度？

**评分逻辑**: 综合评估用户的风险偏好

| 选项 | 分值 | 说明 |
|------|------|------|
| 安全第一，本金不能有任何损失 | 1分 | 保守型 |
| 希望稳定收益，可接受小幅波动 | 2分 | 稳健型 |
| 追求平衡，收益和风险相匹配 | 3分 | 平衡型 |
| 追求较高收益，可承受较大风险 | 4分 | 成长型 |
| 追求最高收益，愿意承担高风险 | 5分 | 进取型 |

---

### 2.3 评分计算公式

#### 基础计算公式
```
总分 = Q1得分 + Q2得分 + Q3得分 + Q4得分 + Q5得分 + 
       Q6得分 + Q7得分 + Q8得分 + Q9得分 + Q10得分
```

#### 分值范围
- **理论最低分**: 10分（每题都选1分）
- **理论最高分**: 50分（每题都选5分）
- **实际分布**: 大多数用户得分在 20-35 分之间

---

### 2.4 风险等级划分

根据总分将用户划分为5个风险等级：

| 风险等级 | 分数区间 | 英文名称 | 占比估算 | 颜色标识 |
|---------|---------|----------|---------|----------|
| **保守型** | 10-15分 | Conservative | ~15% | 🟢 绿色 |
| **稳健型** | 16-25分 | Steady | ~30% | 🔵 蓝色 |
| **平衡型** | 26-35分 | Balanced | ~35% | 🟣 紫色 |
| **成长型** | 36-45分 | Growth | ~15% | 🟠 橙色 |
| **进取型** | 46-50分 | Aggressive | ~5% | 🔴 红色 |

#### 等级详细说明

##### 🟢 保守型（10-15分）
- **风险承受能力**: 极低
- **投资目标**: 本金安全，保值为主
- **可承受亏损**: 0-5%
- **投资期限**: 通常短期（3-6个月）
- **典型特征**: 
  - 年龄偏大或收入较低
  - 无投资经验或经验很少
  - 不能接受本金损失
  - 对金融产品不了解

##### 🔵 稳健型（16-25分）
- **风险承受能力**: 较低
- **投资目标**: 稳定增值，低风险收益
- **可承受亏损**: 5-10%
- **投资期限**: 中短期（6-12个月）
- **典型特征**:
  - 追求稳定收益
  - 有基础投资知识
  - 可接受小幅波动
  - 希望保证本金相对安全

##### 🟣 平衡型（26-35分）
- **风险承受能力**: 中等
- **投资目标**: 收益与风险平衡
- **可承受亏损**: 10-20%
- **投资期限**: 中期（1-3年）
- **典型特征**:
  - 有一定投资经验
  - 理性面对市场波动
  - 追求合理收益
  - 愿意承担适度风险

##### 🟠 成长型（36-45分）
- **风险承受能力**: 较高
- **投资目标**: 追求较高收益
- **可承受亏损**: 20-30%
- **投资期限**: 中长期（3-5年）
- **典型特征**:
  - 投资经验丰富
  - 对金融产品了解深入
  - 能承受较大波动
  - 有较强的风险管理能力

##### 🔴 进取型（46-50分）
- **风险承受能力**: 极高
- **投资目标**: 追求最大收益
- **可承受亏损**: 30%以上
- **投资期限**: 长期（5年以上）
- **典型特征**:
  - 资深投资者
  - 财务状况优越
  - 专业知识丰富
  - 可承受重大损失

---

## 3. 产品推荐匹配

### 3.1 产品风险等级体系

所有投资产品也需要划分风险等级（R1-R5）：

| 产品风险等级 | 适配用户等级 | 产品类型 |
|------------|------------|----------|
| **R1 低风险** | 保守型 | 货币基金、国债、银行存款、保本理财 |
| **R2 中低风险** | 稳健型 | 债券基金、稳健型理财、定期存款 |
| **R3 中等风险** | 平衡型 | 混合基金、指数基金、平衡型理财 |
| **R4 中高风险** | 成长型 | 股票基金、股票、高收益债券 |
| **R5 高风险** | 进取型 | 期货、期权、杠杆产品、衍生品 |

### 3.2 匹配规则

#### 严格匹配原则
用户只能购买 **等于或低于** 其风险等级的产品：

```
保守型用户 → 只能购买 R1 产品
稳健型用户 → 可以购买 R1、R2 产品
平衡型用户 → 可以购买 R1、R2、R3 产品
成长型用户 → 可以购买 R1、R2、R3、R4 产品
进取型用户 → 可以购买 R1、R2、R3、R4、R5 产品
```

#### 风险提示机制
- 当用户尝试购买高于其风险等级的产品时，系统**强制拦截**
- 提示："该产品风险等级为 RX，您的风险承受能力为 RY，暂时无法购买"
- 引导用户重新进行风险测评或选择适合的产品

---

## 4. 业务流程

### 4.1 测评触发场景

#### 4.1.1 首次注册
- 用户完成实名认证后，**强制要求**完成风险测评
- 未完成测评前，无法购买任何投资产品
- 可以跳过，但会在产品页反复提示

#### 4.1.2 产品购买前
- 如果用户未做过风险测评，购买前强制进入测评流程
- 如果测评已过期（>1年），提示重新测评

#### 4.1.3 定期评估
- 每年自动提醒用户重新测评
- 系统在测评到期前30天开始提醒
- 到期后原测评结果仍然有效，但会持续提示更新

#### 4.1.4 用户主动
- 用户可随时在"我的"-"风险测评"中重新测评
- 重新测评会覆盖旧结果

### 4.2 测评流程

```
开始测评
    ↓
欢迎页（说明目的、预计时间、注意事项）
    ↓
问题 1（年龄）
    ↓
问题 2（收入）
    ↓
...（依次回答10个问题）
    ↓
问题 10（投资态度）
    ↓
计算总分
    ↓
确定风险等级
    ↓
展示结果页
  - 风险等级
  - 等级说明
  - 适合产品类型
  - 风险提示
  - 有效期
    ↓
保存结果到数据库
    ↓
完成
```

### 4.3 结果展示内容

#### 必须展示的信息
1. **风险等级名称**: 如"平衡型"
2. **英文名称**: 如"Balanced"
3. **得分**: 如"32分"
4. **等级说明**: 详细描述该等级的特征
5. **适合产品**: 列出3-5种适合的产品类型
6. **风险提示**: 标准风险提示语
7. **有效期**: 明确标注有效期至某日期

#### 可选展示信息
- 各维度得分雷达图
- 与其他用户的对比
- 投资建议和学习资料

---

## 5. 数据存储

### 5.1 数据库表结构

#### 5.1.1 测评记录表（risk_assessment）

| 字段名 | 类型 | 说明 |
|-------|------|------|
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| assessment_date | DATETIME | 测评时间 |
| total_score | INT | 总分（10-50） |
| risk_level | VARCHAR(20) | 风险等级（保守型/稳健型/平衡型/成长型/进取型） |
| risk_level_code | VARCHAR(10) | 等级代码（R1/R2/R3/R4/R5） |
| expiry_date | DATE | 有效期至 |
| status | VARCHAR(20) | 状态（valid/expired） |
| created_at | DATETIME | 创建时间 |
| updated_at | DATETIME | 更新时间 |

#### 5.1.2 测评答案表（risk_assessment_answers）

| 字段名 | 类型 | 说明 |
|-------|------|------|
| id | BIGINT | 主键，自增 |
| assessment_id | BIGINT | 测评记录ID |
| question_no | INT | 问题编号（1-10） |
| answer_option | VARCHAR(10) | 选择的选项（A/B/C/D/E） |
| score | INT | 该题得分（1-5） |
| created_at | DATETIME | 创建时间 |

### 5.2 数据保留策略

- **历史记录**: 保留所有历史测评记录，不删除
- **当前有效**: 用户只有一个"当前有效"的测评结果
- **过期处理**: 过期后状态变为 expired，但记录保留
- **查询优化**: 通过 user_id + status='valid' 快速查询当前有效测评

---

## 6. 技术实现要点

### 6.1 前端实现

#### 6.1.1 进度跟踪
- 实时显示当前问题序号（如 3/10）
- 进度条动态更新
- 支持前进/后退

#### 6.1.2 数据验证
- 每题必须选择才能进入下一题
- 提交前校验所有问题已回答
- 防止重复提交

#### 6.1.3 用户体验
- 单选样式清晰明确
- 已选择选项高亮显示
- 支持修改已答题目
- 加载状态提示

### 6.2 后端实现

#### 6.2.1 计算引擎
```javascript
// 伪代码
function calculateRiskScore(answers) {
    let totalScore = 0;
    
    // 累加所有答案得分
    for (let answer of answers) {
        totalScore += answer.score;
    }
    
    // 确定风险等级
    let riskLevel;
    if (totalScore <= 15) {
        riskLevel = '保守型';
    } else if (totalScore <= 25) {
        riskLevel = '稳健型';
    } else if (totalScore <= 35) {
        riskLevel = '平衡型';
    } else if (totalScore <= 45) {
        riskLevel = '成长型';
    } else {
        riskLevel = '进取型';
    }
    
    return {
        totalScore,
        riskLevel
    };
}
```

#### 6.2.2 有效期计算
```javascript
// 有效期 = 测评日期 + 1年
function calculateExpiryDate(assessmentDate) {
    const expiryDate = new Date(assessmentDate);
    expiryDate.setFullYear(expiryDate.getFullYear() + 1);
    return expiryDate;
}
```

#### 6.2.3 产品匹配校验
```javascript
// 校验用户是否可以购买该产品
function canPurchaseProduct(userRiskLevel, productRiskLevel) {
    const riskLevelMap = {
        '保守型': 1,
        '稳健型': 2,
        '平衡型': 3,
        '成长型': 4,
        '进取型': 5
    };
    
    return riskLevelMap[userRiskLevel] >= productRiskLevel;
}
```

---

## 7. 合规要求

### 7.1 监管依据

- 《证券期货投资者适当性管理办法》
- 《商业银行理财产品销售管理办法》
- 各地区金融监管要求

### 7.2 合规要点

#### 7.2.1 信息告知
- ✅ 必须明确告知测评目的
- ✅ 说明结果用途和有效期
- ✅ 提示如实填写的重要性

#### 7.2.2 风险揭示
- ✅ 每个风险等级必须有清晰说明
- ✅ 产品购买时必须进行风险匹配
- ✅ 超出风险等级必须拦截并提示

#### 7.2.3 数据保护
- ✅ 测评结果属于敏感信息，需加密存储
- ✅ 仅用户本人和授权人员可查看
- ✅ 不得泄露给第三方

#### 7.2.4 定期更新
- ✅ 建议每年重新测评一次
- ✅ 到期后持续提醒用户更新
- ✅ 重大财务变化时建议重新测评

---

## 8. 评分机制优化方向

### 8.1 当前机制的局限性

#### 8.1.1 权重问题
- 当前所有问题权重相同（1.0）
- 实际上某些因素（如收入、可承受亏损）可能更重要
- **优化方向**: 引入差异化权重

#### 8.1.2 极端情况
- 用户可能在某些问题上选择极端选项
- 总分可能无法反映真实情况
- **优化方向**: 增加逻辑校验，识别不合理组合

#### 8.1.3 动态调整
- 市场环境变化可能影响风险承受能力
- 年龄增长、财务变化需要及时更新
- **优化方向**: 主动提醒重新测评

### 8.2 进阶版评分机制（V2.0）

#### 8.2.1 加权计分法

引入权重系数，核心问题权重更高：

```
总分 = (Q1得分 × 0.8) + (Q2得分 × 1.2) + (Q3得分 × 1.0) + 
       (Q4得分 × 1.1) + (Q5得分 × 0.9) + (Q6得分 × 1.2) + 
       (Q7得分 × 1.3) + (Q8得分 × 1.0) + (Q9得分 × 1.5) + 
       (Q10得分 × 1.0)

总权重 = 0.8 + 1.2 + 1.0 + 1.1 + 0.9 + 1.2 + 1.3 + 1.0 + 1.5 + 1.0 = 11.0

标准化得分 = (总分 / 总权重) × 10
```

**关键问题权重**:
- **可承受最大亏损** (Q9): 权重 1.5（最重要）
- **亏损反应** (Q7): 权重 1.3（次重要）
- **年收入** (Q2) 和 **可投资比例** (Q6): 权重 1.2
- **投资目的** (Q4): 权重 1.1
- 其他问题: 权重 0.8-1.0

#### 8.2.2 逻辑校验

识别不合理的答案组合：

| 场景 | 处理方式 |
|------|---------|
| 年龄60+但选择最高风险 | 弹窗二次确认 |
| 无投资经验但愿意承担高风险 | 降低风险等级一档 |
| 收入低但可投资比例高 | 风险提示 |

---

## 9. 产品迭代计划

### V1.0（当前版本）
- ✅ 基础10题测评
- ✅ 简单累加计分
- ✅ 5级风险划分
- ✅ 产品匹配拦截

### V1.5（3个月后）
- 🔄 增加加权计分
- 🔄 答案逻辑校验
- 🔄 测评结果可视化（雷达图）
- 🔄 历史记录对比

### V2.0（6个月后）
- 🔮 AI推荐引擎
- 🔮 动态风险监控
- 🔮 智能提醒机制
- 🔮 个性化投资建议

---

## 10. 附录

### 10.1 风险等级分数分布图

```
进取型 ████████ 46-50 (5%)
成长型 ███████████████ 36-45 (15%)
平衡型 ███████████████████████ 26-35 (35%)
稳健型 ██████████████████ 16-25 (30%)
保守型 █████████ 10-15 (15%)
```

### 10.2 常见问题（FAQ）

**Q: 测评需要多长时间？**
A: 预计3-5分钟，10道题目。

**Q: 可以修改已提交的测评结果吗？**
A: 可以重新测评，新结果会覆盖旧结果。

**Q: 测评结果会影响什么？**
A: 决定您可以购买的产品类型，超过风险等级的产品无法购买。

**Q: 不做测评可以吗？**
A: 根据监管要求，必须完成风险测评才能购买投资产品。

**Q: 测评结果准确吗？**
A: 测评结果仅供参考，建议如实填写以获得最准确的评估。

---

## 文档变更记录

| 版本 | 日期 | 修改人 | 修改内容 |
|------|------|--------|---------|
| v1.0 | 2025-11-07 | - | 初始版本，完成基础评分机制设计 |

---

**文档结束**

